# 红黑树

红黑树是第二种平衡的二叉搜索树(第一种是avl树)

红黑树也是一种二叉搜索树与二叉搜索树的插入删除有关

红黑树不平衡时会旋转进行调整 与旋转有关

> 查找、插入和删除操作的时间复杂度为O(log n)。

### 红黑树的特点

根的颜色是黑色   其他每个节点的颜色是红色或者黑色

红黑树的所有性质可以简化为两条核心规则:

1. 红色规则:一个红色的节点不能有红色的孩子(红色的节点不能连续,红色节点的子节点是黑色)
2. 路径规则:从根到任何一个节点的*只有一个孩子*或*没有孩子*的节点的路径上的黑色节点的数量要相同

### 红黑树的旋转

旋转是为了符合红色规则和路径规则

### 插入时的旋转情况

1. **叔叔节点为红色**：

   - 只需要重新着色，不需要旋转
   - 将父节点和叔叔节点变为黑色，祖父节点变为红色
2. **叔叔节点为黑色**：

   - LL情况：新节点在左子树的左边，需要右旋
   - RR情况：新节点在右子树的右边，需要左旋
   - LR情况：新节点在左子树的右边，需要先左旋再右旋
   - RL情况：新节点在右子树的左边，需要先右旋再左旋


旋转的目的是为了维护两个核心规则：

- 红色节点的子节点必须是黑色
- 从根到叶子的所有路径上黑色节点数量相同

> 左右树高不一定一样高 可能差的比较多
